{
  "name": "cache-storage",
  "description": "Advanced cache storage for node js",
  "version": "2.0.0",
  "author": {
    "name": "David Kudera",
    "email": "sakren@gmail.com"
  },
  "keywords": [
    "cache",
    "caching",
    "storage",
    "memory"
  ],
  "repository": {
    "type": "git",
    "url": "git@github.com:sakren/node-cache-storage.git"
  },
  "license": "MIT",
  "engines": {
    "node": ">=0.9"
  },
  "main": "./lib/Cache.js",
  "dependencies": {
    "moment": "~2.5.0",
    "async": "~0.2.9",
    "redis": "~0.10.0"
  },
  "devDependencies": {
    "chai": "~1.8.1",
    "mocha": "~1.17.0",
    "mocha-phantomjs": "~3.3.1",
    "phantomjs": "~1.9.2-6",
    "fs-mock": "~1.0.1"
  },
  "scripts": {
    "test": "npm run test-node && npm run test-browser",
    "build-and-test": "npm run build-tests && npm run test",
    "build-tests": "coffee -co ./test/node/lib ./test/node/src; cd ./test/browser; simq build;",
    "test-node": "mocha ./test/node/index.js --reporter spec",
    "test-browser": "mocha-phantomjs ./test/browser/index.html"
  },
  "readme": "[![NPM version](https://badge.fury.io/js/cache-storage.png)](http://badge.fury.io/js/cache-storage)\n[![Dependency Status](https://gemnasium.com/sakren/node-cache-storage.png)](https://gemnasium.com/sakren/node-cache-storage)\n[![Build Status](https://travis-ci.org/sakren/node-cache-storage.png?branch=master)](https://travis-ci.org/sakren/node-cache-storage)\n\n# cache-storage\n\nAdvanced cache storage inspired by cache in [Nette framework](http://doc.nette.org/en/caching).\n\nCan be also used in browser for example with [simq](https://npmjs.org/package/simq).\n\n## Installing\n\n```\n$ npm install cache-storage\n```\n\nRequired node version: >= 0.9\n\n## Creating cache\n\n```\nvar Cache = require('cache-storage');\nvar FileStorage = require('cache-storage/Storage/FileSyncStorage');\n\nvar cache = new Cache(new FileStorage('./temp'), 'namespace');\n```\n\nYou have to set storage which you want to use (their list below) and namespace for cache, because you can use\nmore than one independent caches.\n\n## Available storages\n\n### Synchronous storages\n\n* `cache-storage/Storage/FileSyncStorage`: saving data into json files\n* `cache-storage/Storage/BrowserLocalSyncStorage`: saving data into HTML5 local storage\n* `cache-storage/Storage/DevNullSyncStorage`: does not save anything and load always null\n* `cache-storage/Storage/MemorySyncStorage`: saving data just into storage's class properties\n\n### Asynchronouse storages\n\n* `cache-storage/Storage/FileAsyncStorage`\n* `cache-storage/Storage/DevNullAsyncStorage`\n* `cache-storage/Storage/MemoryAsyncStorage`\n* `cache-storage/Storage/RedisAsyncStorage`: uses [redis](https://github.com/mranney/node_redis) package\n\nMore storages will be added in future.\n\n### Only node storages\n\n* `cache-storage/Storage/FileSyncStorage`\n* `cache-storage/Storage/FileAsyncStorage`\n* `cache-storage/Storage/RedisAsyncStorage`\n\n### Only browser storages\n\n* `cache-storage/Storage/BrowserLocalSyncStorage`\n\n### Redis storage\n\nThis storage exposes some variables from original package ([redis](https://github.com/mranney/node_redis)).\n\n```\ncache.storage.selectDatabase(3, function(err) {\n\tconsole.log('changed database');\n});\ncache.storage.client;\t\t// original client object from redis module\n```\n\n## Loading & saving\n\n### Synchronous\n\n```\nvar data = cache.load('some_data');\n\nif (data === null) {\n\t// let's save data to cache\n\tdata = cache.save('some_data', 'some value of some_data');\n}\n\nconsole.log(data);\t\t// output: some value of some_data\n```\n\nThere is also other more simple way to save data to cache if they are not in cache already.\n\n```\nvar data = cache.load('some_data', function() {\n\treturn 'some value of some_data';\n});\n```\n\nWhen no data were found, then fallback anonymous function is called and data from return statement are used.\nCache.save function always return given data.\n\n### Asynchronous\n\n```\ncache.load('some_data', function(err, data) {\n\tif (data === null) {\n\t\tcache.save('some_data', 'some value of some_data', function(err, savedData) {\n\t\t\tconsole.log(savedData);\t\t\t// output: some value of some_data\n\t\t});\n\t}\n});\n```\n\nor with fallback:\n```\ncache.load('some_data', function() {\n\treturn 'some value of some_data';\n}, function(data) {\n\tconsole.log(data);\t\t// output: some value of some_data\n});\n```\n\n## Removing\n\n### Synchronous\n\n```\ncache.remove('some_data');\n```\n\nor:\n```\ncache.save('some_data', null);\n```\n\n### Asynchronous\n\n```\ncache.remove('some_data', function(err) {\n\tconsole.log('removed some_data');\n});\n```\n\n## Expiration\n\nYou can set some conditions and information for every data which will be used for auto expiration or for your manual\nexpiration.\n\n```\ncache.save('some_data', 'some value of some_data', {\n\tfiles: ['./images.txt', './info.txt'],\t\t// expiration by files\n\ttags: ['image', 'article'],\t\t\t\t\t// tags for manual expiration\n\texpire: '2015-12-24 18:00',\t\t\t\t\t// expire data in given date (other examples below)\n\titems: ['some_other_data'],\t\t\t\t\t// expire if other data in cache expires\n\tpriority: 50\t\t\t\t\t\t\t\t// example below\n});\n```\n\n### Expiration by files\n\nIf you set files to save function, then that item will expire when some of given files is changed.\n\nThis type of expiration can be used also in browser, but only with [simq](https://npmjs.org/package/simq) and with allowed\noption `filesStats`. See at documentation of [simq](https://npmjs.org/package/simq).\n\n**Second argument in `clean` method is callback with possible error, this is used just for asynchronous storages.**\n\n### Expiration by tags\n\n```\ncache.clean({\n\ttags: ['image']\n});\n```\n\nNow every item in cache with tag image will be removed.\n\n### Expiration by date\n\nThere are two ways to expire data by date. First way is to set exact date in YYYY-MM-DD HH:mm format. Second way is to\nset literal object with information about adding date to actual date.\n\n```\ncache.save('some_data', 'some value of some_data', {\n\texpire: {days: 1}\n});\n```\n\nNow some_data will expire tomorrow. You can see full documentation in moment.js [documentation](http://momentjs.com/docs/#/manipulating/add/).\n\n### Items expiration\n\nEvery cache item can also depend on other cached items. If some of these other items is invalidated, then also this main\nis invalidated.\n\n### Expiration by priority\n\n```\ncache.clean({\n\tpriority: 100\n});\n```\n\nAll items with priority 100 or below will expire.\n\n## Removing all in namespace\n\n```\ncache.clean(Cache.ALL);\t\t// or cache.clean('all');\n```\n\n## Tests\n\n```\n$ npm test\n```\n\n## Changelog\n\n* 2.0.0\n\t+ Support for asynchronous storages\n\t+ Appended `Sync` to old storages' names (original names are deprecated)\n\t+ Added RedisAsyncStorage, FileAsyncStorage, MemoryAsyncStorage and DevNullAsyncStorage\n\t+ Many optimizations\n\t+ Added many tests\n\t+ Using [fs-mock](https://github.com/sakren/node-fs-mock) for file system\n\t+ Updated dependencies\n\t+ Better documentation\n\n* 1.4.1\n\t+ Can not use some js reserved words\n\n* 1.4.0\n\t+ Bug with tests\n\t+ Added support for invalidating cache in browser by files (only with [simq](https://npmjs.org/package/simq))\n\n* 1.3.0\n\t+ Added DevNullStorage\n\t+ Added MemoryStorage\n\t+ FileStorage throws an error on browser\n\t+ Refactoring storages\n\n* 1.2.4\n\t+ Rewritten tests\n\t+ Added tests for browser\n\t+ Refactoring storages\n\t+ Bad encoding in FileStorage\n\n* 1.2.3\n\t+ Shortcut for base Storage class\n\n* 1.2.2\n\t+ Cache throw error if storage is not instance of Storage class\n\n* 1.2.1\n\t+ FileStorage throw error if path does not exists or if it is a directory\n\n+ 1.2.0\n\t+ Bugs in dependencies parser\n\t+ Written some mocha tests\n\t+ Added changelog\n\n+ 1.1.2\n\t+ Added MIT license\n\n* 1.1.1\n\t+ Renamed repository (cache-storage => node-cache-storage)\n\n* 1.1.0\n\t+ Added support for HTML5 local storage\n\n* 1.0.2\n\t+ Removed dependency on crypto\n\n* 1.0.1\n\t+ Removed hard dependencies on fs and path\n\t+ Trying other hash methods usable in browser\n\n\n* 1.0.0\n\t+ Initial version",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/sakren/node-cache-storage/issues"
  },
  "homepage": "https://github.com/sakren/node-cache-storage",
  "_id": "cache-storage@2.0.0",
  "_from": "cache-storage@"
}
